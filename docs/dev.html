<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport d'Urgence : G√©o-ing√©nierie et Crise Bioclimatique</title>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome pour les ic√¥nes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Votre fichier CSS personnalis√© -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="header">
        <h1>Rapport d'Urgence : G√©o-ing√©nierie et Crise Bioclimatique</h1>
        <!-- Bouton pour ouvrir le chatbot -->
        <button id="openChatbotBtn">üí¨ Chatbot IA</button>
        <!-- Le bouton "R√¥les & Missions" a √©t√© d√©plac√© dans la navigation principale pour √©viter la duplication -->
    </div>

    <div class="container">
        <nav class="main-nav">
            <ul>
                <li><a href="#home" class="nav-link active" data-page="home"><i class="fas fa-home"></i> Accueil du Rapport</a></li>
                <li><a href="#petition-form" class="nav-link" data-page="petition-form"><i class="fas fa-file-signature"></i> Lancer une P√©tition</a></li>
                <li><a href="#contact-resources" class="nav-link" data-page="contact-resources"><i class="fas fa-address-book"></i> Contact & Ressources</a></li>
                <!-- Lien vers la page "R√¥les & Missions" -->
                <li><a href="pages/journalist.html" class="nav-link" data-page="roles"><i class="fas fa-users"></i> R√¥les & Missions</a></li>
            </ul>
        </nav>

        <div class="main-layout-columns">
            <!-- Colonne Gauche : Barre de navigation lat√©rale -->
            <aside class="aside-column">
                <h2 class="subsection-title">Navigation Rapide</h2>
                <nav class="sidebar-nav">
                    <ul>
                        <li>
                            <a href="#" class="sidebar-link active" data-section-id="introduction"><i class="fas fa-info-circle"></i> Introduction</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="chronologie-evenements"><i class="fas fa-history"></i> Chronologie des √âv√©nements</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="preuves-visuelles"><i class="fas fa-images"></i> Preuves Visuelles</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="impact-nuages"><i class="fas fa-cloud"></i> Impact sur les Nuages</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="methodes-suspectees"><i class="fas fa-flask"></i> M√©thodes Suspect√©es</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="reglementation-geoingenierie"><i class="fas fa-balance-scale"></i> R√©glementation G√©o-ing√©nierie</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="observations-discrepances"><i class="fas fa-eye"></i> Observations & Discr√©pances</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="risques"><i class="fas fa-exclamation-triangle"></i> Risques & Cons√©quences</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="demonstration"><i class="fas fa-laptop-code"></i> D√©monstration</a>
                        </li>
                        <li>
                            <a href="#" class="sidebar-link" data-section-id="appel-action"><i class="fas fa-bullhorn"></i> Appel √† l'Action</a>
                        </li>
                    </ul>
                </nav>
                <div class="action-buttons">
                    <button id="goToPetitionBtn" class="btn-secondary">Signer la P√©tition</button>
                    <button id="shareObservationBtn" class="btn-secondary">Partager une Observation</button>
                </div>
            </aside>

            <!-- Colonne Droite : Contenu Principal -->
            <main class="main-content-column">
                <!-- Section pour le contenu dynamique charg√© par JavaScript -->
                <!-- ID crucial pour le chargement des sections par scripts.js -->
                <section id="content-display" class="content-section active">
                    <!-- Le contenu sera inject√© ici par sectionContent.js -->
                </section>

                <!-- Section pour le formulaire de p√©tition (affich√©e directement) -->
                <section id="petition-form" class="content-section">
                    <h2 class="section-title">P√©tition : Non √† la G√©o-ing√©nierie Climatique Non Transparente !</h2>
                    <p>
                        Nous, citoyens pr√©occup√©s par la crise bioclimatique actuelle et les interventions climatiques non d√©clar√©es, demandons la transparence totale et l'arr√™t imm√©diat de toute op√©ration de g√©o-ing√©nierie sans consentement public √©clair√©.
                    </p>
                    <form id="petitionForm" class="p-4 bg-white rounded-lg shadow-md">
                        <div class="mb-4">
                            <label for="userName" class="block text-gray-700 font-bold mb-2">Votre Nom / Pseudo :</label>
                            <input type="text" id="userName" name="userName" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                        </div>
                        <div class="mb-4">
                            <label for="userEmail" class="block text-gray-700 font-bold mb-2">Votre Email :</label>
                            <input type="email" id="userEmail" name="userEmail" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                        </div>
                        <div class="mb-4">
                            <label for="userComment" class="block text-gray-700 font-bold mb-2">Votre message de soutien (optionnel) :</label>
                            <textarea id="userComment" name="userComment" rows="4" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
                        </div>
                        <div class="mb-4 flex items-center">
                            <input type="checkbox" id="supportArticle38" name="supportArticle38" class="mr-2 leading-tight">
                            <label for="supportArticle38" class="text-gray-700">Je soutiens l'application de l'article 38 de la Charte de l'Environnement.</label>
                        </div>
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Signer la P√©tition</button>
                        <p id="petitionMessage" class="mt-4 text-center"></p>
                    </form>

                    <h3 class="subsection-title mt-8">Signatures actuelles : <span id="petitionCount">0</span></h3>
                    <div id="votesList" class="mt-4 p-4 bg-white rounded-lg shadow-md max-h-96 overflow-y-auto">
                        <!-- Les signatures seront charg√©es ici par petition.js -->
                        <p>Aucune signature pour le moment.</p>
                    </div>
                </section>

                <!-- Section pour Contact & Ressources (affich√©e directement) -->
                <section id="contact-resources" class="content-section">
                    <h2 class="section-title">Contact & Ressources Utiles</h2>
                    <p>
                        Si vous avez des informations, des observations ou si vous souhaitez contribuer √† ce rapport, n'h√©sitez pas √† nous contacter. Ensemble, nous pouvons exiger la transparence et la protection de notre environnement.
                    </p>
                    <ul class="resource-list">
                        <li>
                            <strong>Email :</strong> <a href="mailto:contact@bioclimat-alerte.org">contact@bioclimat-alerte.org</a>
                        </li>
                        <li>
                            <strong>Forum de discussion :</strong> Rejoignez notre communaut√© sur <a href="https://example.com/forum" target="_blank">bioclimat-forum.org</a>
                        </li>
                        <li>
                            <strong>Ressources compl√©mentaires :</strong>
                            <ul>
                                <li><a href="https://example.com/rapport-officiel" target="_blank">Rapport Officiel sur la G√©o-ing√©nierie (hypot√©tique)</a></li>
                                <li><a href="https://example.com/charte-environnement" target="_blank">Charte de l'Environnement - Article 38</a></li>
                            </ul>
                        </li>
                    </ul>
                    <p>
                        Vos contributions sont essentielles pour compl√©ter ce rapport et renforcer notre appel √† l'action.
                    </p>
                </section>
            </main>
        </div>
    </div>

    <!-- Modale du Chatbot -->
    <div id="chatbotModal" class="modal">
        <div class="modal-content">
            <button id="closeChatbotBtn" class="modal-close-btn">&times;</button>
            <div class="chat-container">
                <div class="persona-selection mb-4 flex justify-around p-2 bg-gray-100 rounded-md">
                    <button class="persona-btn p-2 rounded-md bg-gray-200 hover:bg-gray-300 transition-colors" data-persona="scientifique">Scientifique</button>
                    <button class="persona-btn p-2 rounded-md bg-gray-200 hover:bg-gray-300 transition-colors" data-persona="journaliste">Journaliste</button>
                    <button class="persona-btn p-2 rounded-md bg-gray-200 hover:bg-gray-300 transition-colors" data-persona="enqu√™teur">Enqu√™teur</button>
                    <button class="persona-btn p-2 rounded-md bg-gray-200 hover:bg-gray-300 transition-colors" data-persona="lanceur-alerte">Lanceur d'alerte</button>
                </div>
                <div id="chatHistory" class="flex-grow overflow-y-auto p-4 border rounded-md mb-4 bg-gray-50">
                    <div class="ai-message message">
                        <p>Bienvenue ! Je suis votre assistant bioclimatique. Choisissez une persona pour commencer √† discuter.</p>
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="chatInput" placeholder="Tapez votre message..." class="flex-grow p-2 border rounded-md">
                    <button id="sendBtn" class="bg-blue-500 text-white p-2 rounded-md">Envoyer</button>
                </div>
                <button id="clearChatBtn" class="bg-red-500 text-white p-2 rounded-md mt-2">Effacer le chat</button>
            </div>
        </div>
    </div>

    <!-- Nouvelle modale pour l'affichage des m√©dias de la galerie -->
    <div id="mediaModal" class="modal">
        <div class="media-modal-content">
            <button id="closeMediaModalBtn" class="modal-close-btn">&times;</button>
            <div id="mediaModalContent">
                <!-- Le m√©dia (image ou vid√©o) et sa l√©gende seront ins√©r√©s ici par JS -->
            </div>
        </div>
    </div>

    <!-- Vos fichiers JavaScript personnalis√©s -->
    <!-- Les modules doivent √™tre charg√©s en premier car ils exportent des √©l√©ments -->
    <script type="module" src="js/sectionContent.js"></script>
    <script type="module" src="js/petition.js"></script>
    <!-- Les scripts qui sont des fonctions globales (comme gallery.js, chatbot.js, modals.js)
         peuvent rester de type standard ou √™tre transform√©s en modules si n√©cessaire.
         Pour l'instant, ils sont charg√©s comme avant et exposent leurs fonctions √† window. -->
    <script src="js/gallery.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/modals.js"></script>
    <!-- Le script principal (orchestrateur) doit √™tre charg√© en dernier et de type module -->
    <script type="module" src="js/scripts.js"></script>
</body>
</html>
